<?xml version="1.0"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html 
	xmlns="http://www.w3.org/1999/xhtml"
	xml:lang="en"
	lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

	<meta name="description" content="Apache Zeta Components - reusable set of high quality PHP components to fasten your development." />
	<meta name="keywords" content="PHP, apache, components, framework, quality" />
	<meta name="author" content="dotxp" />
	<meta name="language" content="en" />
	<meta name="date" content="Wed, 04 Aug 2010 13:07:59 +0200" />
	<meta name="robots" content="all" />

	<link rel="schema.DC" href="http://purl.org/dc/elements/1.1/" />
	<meta name="DC.title" content="ezcTranslationTsBackend.html" />
	<meta name="DC.creator" content="dotxp" />
	<meta name="DC.date" content="Wed, 04 Aug 2010 13:07:59 +0200" />
	<meta name="DC.rights" content="Copyright" />

	<link rel="meta" href="/zetacomponents/documentation/trunk/Translation/phpdoc/ezcTranslationTsBackend.rdf" />
	<link rel="icon" href="/zetacomponents/images/favicon.png" type="image/png" />

	<link rel="Stylesheet" type="text/css" href="/zetacomponents/styles/screen.css" media="screen" />
	<link rel="Stylesheet" type="text/css" href="/zetacomponents/styles/print.css" media="print" />


	<title>Apache Zeta Components - high quality PHP components</title>
</head>
<body>
<div id="wcv">
	<h1>
		<a id="header-png" href="/zetacomponents" title="Apache Zeta Components - high quality PHP components">
			Apache Zeta Components - high quality PHP components
		</a>
	</h1>

	<ul class="navigation">
<li >
	<a href="/zetacomponents/news.html" title="About">About</a>
	</li>
<li >
	<a href="/zetacomponents/community/index.html" title="Community">Community</a>
	</li>
<li class="requested">
	<a href="/zetacomponents/documentation/overview.html" title="Documentation">Documentation</a>
	</li>
<li >
	<a href="/zetacomponents/download/index.html" title="Download">Download</a>
	</li>
<li >
	<a href="/zetacomponents/support.html" title="Support">Support</a>
	</li>

</ul>
<ul class="subnavigation">
<li >
	<a href="/zetacomponents/documentation/overview.html" title="Overview">Overview</a>
	</li>
<li >
	<a href="/zetacomponents/documentation/install.html" title="Installation">Installation</a>
	</li>

</ul>

	<div class="content">
    <ul class="tabs">
    <li >
	<a href="/zetacomponents/documentation/trunk/Translation/tutorial.html" title="Tutorial">Tutorial</a>
	</li>
<li class="requested">
	<a href="/zetacomponents/documentation/trunk/Translation/phpdoc/classtrees.html" title="API">API</a>
	</li>
<li >
	<a href="/zetacomponents/documentation/trunk/Translation/linguist-format.html" title="Linguist-format ">Linguist-format </a>
	</li>

</ul>

		
  <div class="phpdoc">
    <h2>Apache Zeta Components Manual :: Docs For Class ezcTranslationTsBackend</h2>

                  <h3>Translation::ezcTranslationTsBackend</h3>
    
<a name="sec-description"></a>
<h3>Class ezcTranslationTsBackend</h3>

<p>Translation backend that reads Qt's Linguist TS files.</p><div><p>This class is the backend that can read Qt's Linguist files as source for a  translation. The format is an XML file, which contains contexts and all the  translatable strings.</p><p>Example:  </p><ol><li><div class="src-line">&#8192;<span class="src-php">&lt;?php</span></div></li>
<li><div class="src-line">&#8192;<span class="src-var">$a&#8192;</span>=&#8192;<span class="src-key">new&#8192;</span><span class="src-id"><a href="ezcTranslationTsBackend.html">ezcTranslationTsBackend</a></span><span class="src-sym">(</span></div></li>
<li><div class="src-line">&#8192;&#8192;&#8192;&#8192;&#8192;<span class="src-str">'tests/translations'</span><span class="src-sym">,</span></div></li>
<li><div class="src-line">&#8192;&#8192;&#8192;&#8192;&#8192;<span class="src-key">array&#8192;</span><span class="src-sym">(&#8192;</span><span class="src-str">'format'&#8192;</span>=&gt;&#8192;<span class="src-str">'[LOCALE].xml'&#8192;</span><span class="src-sym">)</span></div></li>
<li><div class="src-line">&#8192;<span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&#8192;</div></li>
<li><div class="src-line">&#8192;<span class="src-var">$b&#8192;</span>=&#8192;<span class="src-key">new&#8192;</span><span class="src-id"><a href="ezcTranslationManager.html">ezcTranslationManager</a></span><span class="src-sym">(&#8192;</span><span class="src-var">$a&#8192;</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&#8192;<span class="src-php">?&gt;</span></div></li>
</ol><p>The reader capabilities of this class (the implementation of  ezcTranslationContextRead) can be used it two different ways, where the  second one is the more elegant approach.</p><p>Reader Example 1:  </p><ol><li><div class="src-line">&#8192;<span class="src-php">&lt;?php</span></div></li>
<li><div class="src-line">&#8192;<span class="src-var">$backend&#8192;</span>=&#8192;<span class="src-key">new&#8192;</span><span class="src-id"><a href="ezcTranslationTsBackend.html">ezcTranslationTsBackend</a></span><span class="src-sym">(&#8192;</span><span class="src-str">"files/translations"&#8192;</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&#8192;<span class="src-var">$backend</span><span class="src-sym">-&gt;</span><span class="src-id">options</span><span class="src-sym">-&gt;</span><span class="src-id">format&#8192;</span>=&#8192;<span class="src-str">'[LOCALE].xml'</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&#8192;<span class="src-var">$backend</span><span class="src-sym">-&gt;</span><a href="ezcTranslationTsBackend.html#methodinitReader">initReader</a><span class="src-sym">(&#8192;</span><span class="src-str">'nb-no'&#8192;</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&#8192;<span class="src-var">$backend</span><span class="src-sym">-&gt;</span><a href="ezcTranslationTsBackend.html#methodnext">next</a><span class="src-sym">(</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&#8192;</div></li>
<li><div class="src-line">&#8192;<span class="src-var">$contexts&#8192;</span>=&#8192;<span class="src-key">array</span><span class="src-sym">(</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&#8192;<span class="src-key">while&#8192;</span><span class="src-sym">(&#8192;</span><span class="src-var">$backend</span><span class="src-sym">-&gt;</span><a href="ezcTranslationTsBackend.html#methodvalid">valid</a><span class="src-sym">(</span><span class="src-sym">)&#8192;)</span></div></li>
<li><div class="src-line">&#8192;<span class="src-sym">{</span></div></li>
<li><div class="src-line">&#8192;&#8192;&#8192;&#8192;&#8192;<span class="src-var">$contextName&#8192;</span>=&#8192;<span class="src-var">$backend</span><span class="src-sym">-&gt;</span><a href="ezcTranslationTsBackend.html#methodkey">key</a><span class="src-sym">(</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&#8192;&#8192;&#8192;&#8192;&#8192;<span class="src-var">$contextData&#8192;</span>=&#8192;<span class="src-var">$backend</span><span class="src-sym">-&gt;</span><a href="ezcTranslationTsBackend.html#methodcurrent">current</a><span class="src-sym">(</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&#8192;&#8192;&#8192;&#8192;&#8192;<span class="src-comm">//&#8192;do&#8192;something&#8192;with&#8192;the&#8192;data</span></div></li>
<li><div class="src-line">&#8192;&#8192;&#8192;&#8192;&#8192;<span class="src-var">$backend</span><span class="src-sym">-&gt;</span><a href="ezcTranslationTsBackend.html#methodnext">next</a><span class="src-sym">(</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&#8192;<span class="src-sym">}</span></div></li>
<li><div class="src-line">&#8192;<span class="src-php">?&gt;</span></div></li>
</ol><p>Reader Example 2:  </p><ol><li><div class="src-line">&#8192;<span class="src-php">&lt;?php</span></div></li>
<li><div class="src-line">&#8192;<span class="src-var">$backend&#8192;</span>=&#8192;<span class="src-key">new&#8192;</span><span class="src-id"><a href="ezcTranslationTsBackend.html">ezcTranslationTsBackend</a></span><span class="src-sym">(&#8192;</span><span class="src-str">"</span>{<span class="src-var">$currentDir<span class="src-str"></span><span class="src-sym">}</span>/files/translations</span><span class="src-str">"&#8192;</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&#8192;<span class="src-var">$backend</span><span class="src-sym">-&gt;</span><span class="src-id">options</span><span class="src-sym">-&gt;</span><span class="src-id">format&#8192;</span>=&#8192;<span class="src-str">'[LOCALE].xml'</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&#8192;<span class="src-var">$backend</span><span class="src-sym">-&gt;</span><a href="ezcTranslationTsBackend.html#methodinitReader">initReader</a><span class="src-sym">(&#8192;</span><span class="src-str">'nb-no'&#8192;</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&#8192;</div></li>
<li><div class="src-line">&#8192;<span class="src-var">$contexts&#8192;</span>=&#8192;<span class="src-key">array</span><span class="src-sym">(</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&#8192;<span class="src-key">foreach&#8192;</span><span class="src-sym">(&#8192;</span><span class="src-var">$backend&#8192;</span><span class="src-key">as&#8192;</span><span class="src-var">$contextName&#8192;</span>=&gt;&#8192;<span class="src-var">$contextData&#8192;</span><span class="src-sym">)</span></div></li>
<li><div class="src-line">&#8192;<span class="src-sym">{</span></div></li>
<li><div class="src-line">&#8192;&#8192;&#8192;&#8192;&#8192;<span class="src-comm">//&#8192;do&#8192;something&#8192;with&#8192;the&#8192;data</span></div></li>
<li><div class="src-line">&#8192;<span class="src-sym">}</span></div></li>
<li><div class="src-line">&#8192;<span class="src-php">?&gt;</span></div></li>
</ol><p>For a more extensive example see <a href="ezcTranslationManager.html">ezcTranslationManager</a>.</p></div>
<p>Source for this file: <a href="http://fisheye6.atlassian.com/browse/zetacomponents/trunk/Translation/src/backends/ts_backend.php?r=HEAD">/Translation/src/backends/ts_backend.php</a></p>
       
  <h3>Implements interfaces:</h3>
  <ul><li><a href="ezcTranslationBackend.html">ezcTranslationBackend</a></li><li><a href="ezcTranslationContextRead.html">ezcTranslationContextRead</a></li><li><a href="ezcTranslationContextWrite.html">ezcTranslationContextWrite</a></li>  </ul><table><tr><td>
            <strong>Version:</strong>&#8192;&#8192;
          </td>
          <td>//autogentag//</td>
        </tr></table><a name="sec-prop-summary"></a>
  <h3>Properties</h3>
  <table class="summary"><tr><td class="right">
          <a name="prop%24options" id="$options"></a>
          <a name="prop-%24options" id="$options"></a>
          <em><a href="ezcTranslationTsBackendOptions.html">ezcTranslationTsBackendOptions</a></em>        </td>
        <td class="right">
          <em>read/write</em>
        </td>
        <td>
          <code>
            <a href="#prop-%24options" title="details" class="var-name-summary">$options</a>
                      </code>
          <br><div style="margin-left: 20px">Contains the options for this class.</div>        </td>
      </tr></table><a name="sec-var-summary"></a>
  <h3>Member Variables</h3>
  <table class="summary"><tr><td class="right">
            <em>protected</em>            <em>array(string=&gt;mixed)</em>          </td>
          <td>
            <code>
              $properties
                          </code>
            <br><div style="margin-left: 20px">Container to hold the properties</div>                      </td>
        </tr></table><a name="sec-method-summary"></a>
  <h3>Method Summary</h3>
  <table class="summary"><tr><td class="right">
            <em>public</em>                        <em>ezcTranslationTsBackend</em>          </td>
          <td>
            <code>
              <a href="#__construct"><b>__construct</b></a>(
                                                                                    $location
                                                    ,                   [                  $options
                   = array()]                               )
            </code>
            <br><div style="margin-left: 20px">Constructs a new ezcTranslationTsBackend that will use the file specified by $location.</div>          </td>
        </tr><tr><td class="right">
            <em>public</em>                        <em>string</em>          </td>
          <td>
            <code>
              <a href="#buildTranslationFileName"><b>buildTranslationFileName</b></a>(
                                                                                    $locale
                                                 )
            </code>
            <br><div style="margin-left: 20px">Returns the filename for the translation file using the locale $locale.</div>          </td>
        </tr><tr><td class="right">
            <em>public</em>                        <em>array</em>          </td>
          <td>
            <code>
              <a href="#current"><b>current</b></a>(
               )
            </code>
            <br><div style="margin-left: 20px">Returns the current context's data.</div>          </td>
        </tr><tr><td class="right">
            <em>public</em>                        <em>array</em>          </td>
          <td>
            <code>
              <a href="#currentContext"><b>currentContext</b></a>(
               )
            </code>
            <br><div style="margin-left: 20px">Returns the current context</div>          </td>
        </tr><tr><td class="right">
            <em>public</em>                        <em>void</em>          </td>
          <td>
            <code>
              <a href="#deinitReader"><b>deinitReader</b></a>(
               )
            </code>
            <br><div style="margin-left: 20px">Deinitializes the reader</div>          </td>
        </tr><tr><td class="right">
            <em>public</em>                        <em>void</em>          </td>
          <td>
            <code>
              <a href="#deinitWriter"><b>deinitWriter</b></a>(
               )
            </code>
            <br><div style="margin-left: 20px">Deinitializes the writer</div>          </td>
        </tr><tr><td class="right">
            <em>public</em>                        <em>array(ezcTranslationData)</em>          </td>
          <td>
            <code>
              <a href="#getContext"><b>getContext</b></a>(
                                                                                    $locale
                                                    ,                                     $context
                                                 )
            </code>
            <br><div style="margin-left: 20px">Returns a array containing a translation map for the locale $locale  and the context $context.</div>          </td>
        </tr><tr><td class="right">
            <em>public</em>                        <em>array(string)</em>          </td>
          <td>
            <code>
              <a href="#getContextNames"><b>getContextNames</b></a>(
                                                                                    $locale
                                                 )
            </code>
            <br><div style="margin-left: 20px">Returns a list with all context names for the locale $locale.</div>          </td>
        </tr><tr><td class="right">
            <em>public</em>                        <em><a href="ezcTranslationTsBackendOptions.html">ezcTranslationTsBackendOptions</a></em>          </td>
          <td>
            <code>
              <a href="#getOptions"><b>getOptions</b></a>(
               )
            </code>
            <br><div style="margin-left: 20px">Returns the current options.</div>          </td>
        </tr><tr><td class="right">
            <em>public</em>                        <em>void</em>          </td>
          <td>
            <code>
              <a href="#initReader"><b>initReader</b></a>(
                                                                                    $locale
                                                 )
            </code>
            <br><div style="margin-left: 20px">Initializes the reader to read from locale $locale.</div>          </td>
        </tr><tr><td class="right">
            <em>public</em>                        <em>void</em>          </td>
          <td>
            <code>
              <a href="#initWriter"><b>initWriter</b></a>(
                                                                                    $locale
                                                 )
            </code>
            <br><div style="margin-left: 20px">Initializes the writer to write to locale $locale.</div>          </td>
        </tr><tr><td class="right">
            <em>public</em>                        <em>string</em>          </td>
          <td>
            <code>
              <a href="#key"><b>key</b></a>(
               )
            </code>
            <br><div style="margin-left: 20px">Returns the current context's name.</div>          </td>
        </tr><tr><td class="right">
            <em>public</em>                        <em>void</em>          </td>
          <td>
            <code>
              <a href="#next"><b>next</b></a>(
               )
            </code>
            <br><div style="margin-left: 20px">Advanced to the next context.</div>          </td>
        </tr><tr><td class="right">
            <em>public</em>                        <em>object The</em>          </td>
          <td>
            <code>
              <a href="#openTranslationFile"><b>openTranslationFile</b></a>(
                                                                                    $locale
                                                    ,                   [                  $returnClass
                   = 'SimpleXMLElement']                               )
            </code>
            <br><div style="margin-left: 20px">Creates an SimpleXML parser object for the locale $locale.</div>          </td>
        </tr><tr><td class="right">
            <em>public</em>                        <em>object The</em>          </td>
          <td>
            <code>
              <a href="#openTranslationFileForWriting"><b>openTranslationFileForWriting</b></a>(
                                                                                    $locale
                                                 )
            </code>
            <br><div style="margin-left: 20px">Creates a DOM parser object for the locale $locale.</div>          </td>
        </tr><tr><td class="right">
            <em>public</em>                        <em>void</em>          </td>
          <td>
            <code>
              <a href="#rewind"><b>rewind</b></a>(
               )
            </code>
            <br><div style="margin-left: 20px">Empty function to satisfy the Iterator interface.</div>          </td>
        </tr><tr><td class="right">
            <em>public</em>                        <em>void</em>          </td>
          <td>
            <code>
              <a href="#setOptions"><b>setOptions</b></a>(
                                                                                    $options
                                                 )
            </code>
            <br><div style="margin-left: 20px">Set new options.</div>          </td>
        </tr><tr><td class="right">
            <em>public</em>                        <em>void</em>          </td>
          <td>
            <code>
              <a href="#storeContext"><b>storeContext</b></a>(
                                                                                    $context
                                                    ,                                     $data
                                                 )
            </code>
            <br><div style="margin-left: 20px">Stores a context.</div>          </td>
        </tr><tr><td class="right">
            <em>public</em>                        <em>bool</em>          </td>
          <td>
            <code>
              <a href="#valid"><b>valid</b></a>(
               )
            </code>
            <br><div style="margin-left: 20px">Returns whether there is a new context available.</div>          </td>
        </tr></table><a name="sec-methods"></a>
  <h3>Methods</h3>
  <a name="method_detail"></a>
                                      
      <a name="method__construct" id="__construct"><!-- --></a>

    <h4>__construct</h4>

    <div class="method-signature">
      ezcTranslationTsBackend
      __construct(
                                  string
          $location
                            ,           [
          $options
           = array()]              )
    </div>

    <p>Constructs a new ezcTranslationTsBackend that will use the file specified by $location.</p><div><p>You can specify additional options through the $options parameter. See  the documentation for the <a href="ezcTranslationTsBackend.html#methodsetOptions">ezcTranslationTsBackend::setOptions()</a>  method for supported options.</p></div>
          <h5>Parameters:</h5>
      <table class="detail"><thead><tr><th>Name</th>
            <th>Type</th>
            <th class="desc">Description</th>
          </tr></thead><tbody><tr><td><code>$location</code></td>
              <td><em>string</em></td>
              <td>
                              </td>
            </tr><tr><td><code>$options</code></td>
              <td><em>array(string=&gt;mixed)</em></td>
              <td>
                              </td>
            </tr></tbody></table><h5>Exceptions:</h5>
      <table class="detail"><thead><tr><th>Type</th>
            <th class="desc">Description</th>
          </tr></thead><tbody><tr><td><code><a href="ezcTranslationNotConfiguredException.html">ezcTranslationNotConfiguredException</a></code></td>
              <td>
                                  if $location is not set or is empty.
                              </td>
            </tr></tbody></table><a name="methodbuildTranslationFileName" id="buildTranslationFileName"><!-- --></a>

    <h4>buildTranslationFileName</h4>

    <div class="method-signature">
      string
      buildTranslationFileName(
                                  string
          $locale
                        )
    </div>

    <p>Returns the filename for the translation file using the locale $locale.</p><div><p>This function uses the <em>location</em> and <em>format</em> options,  combined with the $locale parameter to form a filename that contains the  translation belonging to the specified locale.</p></div>
          <h5>Parameters:</h5>
      <table class="detail"><thead><tr><th>Name</th>
            <th>Type</th>
            <th class="desc">Description</th>
          </tr></thead><tbody><tr><td><code>$locale</code></td>
              <td><em>string</em></td>
              <td>
                              </td>
            </tr></tbody></table><a name="methodcurrent" id="current"><!-- --></a>

    <h4>current</h4>

    <div class="method-signature">
      array
      current(
      )
    </div>

    <p>Returns the current context's data.</p><div><p>This method returns the latest read context, that the next() method  put into the $currentContext property. See  ezcTranslationTsBackend::$currentContext for the format of this  array.  This method is used for iteration as part of the Iterator interface.</p></div>
    
          <h5>Exceptions:</h5>
      <table class="detail"><thead><tr><th>Type</th>
            <th class="desc">Description</th>
          </tr></thead><tbody><tr><td><code><a href="ezcTranslationReaderNotInitializedException.html">ezcTranslationReaderNotInitializedException</a></code></td>
              <td>
                                  when the reader is not initialized with initReader().
                              </td>
            </tr></tbody></table><a name="methodcurrentContext" id="currentContext"><!-- --></a>

    <h4>currentContext</h4>

    <div class="method-signature">
      array
      currentContext(
      )
    </div>

    <p>Returns the current context</p><div><p>This method returns the latest read context, that the haveMore() method  put into the $currentContext property. See  ezcTranslationTsBackend::$currentContext for the format of this  array.  This method is used for iteration as part of the Iterator interface.</p></div>
    
          <h5>Exceptions:</h5>
      <table class="detail"><thead><tr><th>Type</th>
            <th class="desc">Description</th>
          </tr></thead><tbody><tr><td><code><a href="ezcTranslationReaderNotInitializedException.html">ezcTranslationReaderNotInitializedException</a></code></td>
              <td>
                                  when the reader is not initialized with initReader().
                              </td>
            </tr></tbody></table><a name="methoddeinitReader" id="deinitReader"><!-- --></a>

    <h4>deinitReader</h4>

    <div class="method-signature">
      void
      deinitReader(
      )
    </div>

    <p>Deinitializes the reader</p><div><p>This method should be called after the haveMore() method returns false  to cleanup resources.</p></div>
    
          <h5>Exceptions:</h5>
      <table class="detail"><thead><tr><th>Type</th>
            <th class="desc">Description</th>
          </tr></thead><tbody><tr><td><code><a href="ezcTranslationException.html">ezcTranslationException</a></code></td>
              <td>
                                  when the reader is not initialized with initReader().
                              </td>
            </tr></tbody></table><h5>Implementation of:</h5>
      <table class="detail"><thead><tr><th>Method</th>
            <th class="desc">Description</th>
          </tr></thead><tbody><tr><td><code><a href="ezcTranslationContextRead.html#methoddeinitReader">ezcTranslationContextRead::deinitReader()</a></code></td>
              <td>
                                  Deinitializes the reader.
                              </td>
            </tr></tbody></table><a name="methoddeinitWriter" id="deinitWriter"><!-- --></a>

    <h4>deinitWriter</h4>

    <div class="method-signature">
      void
      deinitWriter(
      )
    </div>

    <p>Deinitializes the writer</p>
    
        

    
          <h5>Implementation of:</h5>
      <table class="detail"><thead><tr><th>Method</th>
            <th class="desc">Description</th>
          </tr></thead><tbody><tr><td><code><a href="ezcTranslationContextWrite.html#methoddeinitWriter">ezcTranslationContextWrite::deinitWriter()</a></code></td>
              <td>
                                  Deinitializes the writer
                              </td>
            </tr></tbody></table><a name="methodgetContext" id="getContext"><!-- --></a>

    <h4>getContext</h4>

    <div class="method-signature">
      array(ezcTranslationData)
      getContext(
                                  string
          $locale
                            ,           string
          $context
                        )
    </div>

    <p>Returns a array containing a translation map for the locale $locale  and the context $context.</p><div><p>This method returns an array containing the translation map for the  specified $locale and $context. It uses the location and  format options to locate the file, unless caching is  enabled.</p></div>
          <h5>Parameters:</h5>
      <table class="detail"><thead><tr><th>Name</th>
            <th>Type</th>
            <th class="desc">Description</th>
          </tr></thead><tbody><tr><td><code>$locale</code></td>
              <td><em>string</em></td>
              <td>
                              </td>
            </tr><tr><td><code>$context</code></td>
              <td><em>string</em></td>
              <td>
                              </td>
            </tr></tbody></table><h5>Exceptions:</h5>
      <table class="detail"><thead><tr><th>Type</th>
            <th class="desc">Description</th>
          </tr></thead><tbody><tr><td><code><a href="ezcTranslationContextNotAvailableException.html">ezcTranslationContextNotAvailableException</a></code></td>
              <td>
                                  if a context is not available
                              </td>
            </tr><tr><td><code><a href="ezcTranslationMissingTranslationFileException.html">ezcTranslationMissingTranslationFileException</a></code></td>
              <td>
                                  if the translation file does not exist.
                              </td>
            </tr><tr><td><code><a href="ezcTranslationNotConfiguredException.html">ezcTranslationNotConfiguredException</a></code></td>
              <td>
                                  if the option <em>format</em> is not set before this method is called.
                              </td>
            </tr></tbody></table><h5>Implementation of:</h5>
      <table class="detail"><thead><tr><th>Method</th>
            <th class="desc">Description</th>
          </tr></thead><tbody><tr><td><code><a href="ezcTranslationBackend.html#methodgetContext">ezcTranslationBackend::getContext()</a></code></td>
              <td>
                                  Returns an array with translation data for the context $context and the locale  $locale.
                              </td>
            </tr></tbody></table><a name="methodgetContextNames" id="getContextNames"><!-- --></a>

    <h4>getContextNames</h4>

    <div class="method-signature">
      array(string)
      getContextNames(
                                  string
          $locale
                        )
    </div>

    <p>Returns a list with all context names for the locale $locale.</p>
          <h5>Parameters:</h5>
      <table class="detail"><thead><tr><th>Name</th>
            <th>Type</th>
            <th class="desc">Description</th>
          </tr></thead><tbody><tr><td><code>$locale</code></td>
              <td><em>string</em></td>
              <td>
                              </td>
            </tr></tbody></table><h5>Exceptions:</h5>
      <table class="detail"><thead><tr><th>Type</th>
            <th class="desc">Description</th>
          </tr></thead><tbody><tr><td><code><a href="ezcTranslationNotConfiguredException.html">ezcTranslationNotConfiguredException</a></code></td>
              <td>
                                  if the option <em>format</em> is not set before this method is called.
                              </td>
            </tr><tr><td><code><a href="ezcTranslationMissingTranslationFileException.html">ezcTranslationMissingTranslationFileException</a></code></td>
              <td>
                                  if the translation file does not exist.
                              </td>
            </tr></tbody></table><a name="methodgetOptions" id="getOptions"><!-- --></a>

    <h4>getOptions</h4>

    <div class="method-signature">
      <a href="ezcTranslationTsBackendOptions.html">ezcTranslationTsBackendOptions</a>
      getOptions(
      )
    </div>

    <p>Returns the current options.</p><div><p>Returns the options currently set for this backend.</p></div>
    
        

    
    
    
        <a name="methodinitReader" id="initReader"><!-- --></a>

    <h4>initReader</h4>

    <div class="method-signature">
      void
      initReader(
                                  string
          $locale
                        )
    </div>

    <p>Initializes the reader to read from locale $locale.</p><div><p>Opens the translation file.</p></div>
          <h5>Parameters:</h5>
      <table class="detail"><thead><tr><th>Name</th>
            <th>Type</th>
            <th class="desc">Description</th>
          </tr></thead><tbody><tr><td><code>$locale</code></td>
              <td><em>string</em></td>
              <td>
                              </td>
            </tr></tbody></table><h5>Exceptions:</h5>
      <table class="detail"><thead><tr><th>Type</th>
            <th class="desc">Description</th>
          </tr></thead><tbody><tr><td><code><a href="ezcTranslationNotConfiguredException.html">ezcTranslationNotConfiguredException</a></code></td>
              <td>
                                  if the option <em>format</em> is not set before this method is called.
                              </td>
            </tr></tbody></table><h5>Implementation of:</h5>
      <table class="detail"><thead><tr><th>Method</th>
            <th class="desc">Description</th>
          </tr></thead><tbody><tr><td><code><a href="ezcTranslationContextRead.html#methodinitReader">ezcTranslationContextRead::initReader()</a></code></td>
              <td>
                                  Initializes the reader to read from the locale $locale.
                              </td>
            </tr></tbody></table><a name="methodinitWriter" id="initWriter"><!-- --></a>

    <h4>initWriter</h4>

    <div class="method-signature">
      void
      initWriter(
                                  string
          $locale
                        )
    </div>

    <p>Initializes the writer to write to locale $locale.</p><div><p>Opens the translation file.</p></div>
          <h5>Parameters:</h5>
      <table class="detail"><thead><tr><th>Name</th>
            <th>Type</th>
            <th class="desc">Description</th>
          </tr></thead><tbody><tr><td><code>$locale</code></td>
              <td><em>string</em></td>
              <td>
                              </td>
            </tr></tbody></table><h5>Exceptions:</h5>
      <table class="detail"><thead><tr><th>Type</th>
            <th class="desc">Description</th>
          </tr></thead><tbody><tr><td><code><a href="ezcTranslationNotConfiguredException.html">ezcTranslationNotConfiguredException</a></code></td>
              <td>
                                  if the option <em>format</em> is not set before this method is called.
                              </td>
            </tr></tbody></table><h5>Implementation of:</h5>
      <table class="detail"><thead><tr><th>Method</th>
            <th class="desc">Description</th>
          </tr></thead><tbody><tr><td><code><a href="ezcTranslationContextWrite.html#methodinitWriter">ezcTranslationContextWrite::initWriter()</a></code></td>
              <td>
                                  Initializes the writer to write from the locale $locale.
                              </td>
            </tr></tbody></table><a name="methodkey" id="key"><!-- --></a>

    <h4>key</h4>

    <div class="method-signature">
      string
      key(
      )
    </div>

    <p>Returns the current context's name.</p><div><p>This method returns the latest read context, that the next() method  put into the $currentContext property. See  ezcTranslationTsBackend::$currentContext for the format of this  array.  This method is used for iteration as part of the Iterator interface.</p></div>
    
          <h5>Exceptions:</h5>
      <table class="detail"><thead><tr><th>Type</th>
            <th class="desc">Description</th>
          </tr></thead><tbody><tr><td><code><a href="ezcTranslationReaderNotInitializedException.html">ezcTranslationReaderNotInitializedException</a></code></td>
              <td>
                                  when the reader is not initialized with initReader().
                              </td>
            </tr></tbody></table><a name="methodnext" id="next"><!-- --></a>

    <h4>next</h4>

    <div class="method-signature">
      void
      next(
      )
    </div>

    <p>Advanced to the next context.</p><div><p>This method parses a little bit more of the XML file to be able to  return the next context.  If no more contexts are available it sets the  $currentContext member variable to null, so that the valid() method can  pick this up.  If there are more contexts available it reads the context  from the file and stores it into the $currentContext member variable.  This method is used for iteration as part of the Iterator interface.</p></div>
    
          <h5>Exceptions:</h5>
      <table class="detail"><thead><tr><th>Type</th>
            <th class="desc">Description</th>
          </tr></thead><tbody><tr><td><code><a href="ezcTranslationReaderNotInitializedException.html">ezcTranslationReaderNotInitializedException</a></code></td>
              <td>
                                  when the reader is not initialized with initReader().
                              </td>
            </tr></tbody></table><a name="methodopenTranslationFile" id="openTranslationFile"><!-- --></a>

    <h4>openTranslationFile</h4>

    <div class="method-signature">
      object The
      openTranslationFile(
                                  string
          $locale
                            ,           [string
          $returnClass
           = 'SimpleXMLElement']              )
    </div>

    <p>Creates an SimpleXML parser object for the locale $locale.</p><div><p>You can set the class of the returned object through the $returnClass  parameter. That class should extend the SimpleXMLElement class.</p><p>This function checks if the <em>location</em> setting is made, if the file  with the filename as returned by buildTranslationFileName() exists and  creates a SimpleXML parser object for this file. If either the setting  is not made, or the file doesn't exists it throws an exception.</p></div>
          <h5>Parameters:</h5>
      <table class="detail"><thead><tr><th>Name</th>
            <th>Type</th>
            <th class="desc">Description</th>
          </tr></thead><tbody><tr><td><code>$locale</code></td>
              <td><em>string</em></td>
              <td>
                              </td>
            </tr><tr><td><code>$returnClass</code></td>
              <td><em>string</em></td>
              <td>
                                  The class of the returned XML Parser Object.
                              </td>
            </tr></tbody></table><h5>Exceptions:</h5>
      <table class="detail"><thead><tr><th>Type</th>
            <th class="desc">Description</th>
          </tr></thead><tbody><tr><td><code><a href="ezcTranslationMissingTranslationFileException.html">ezcTranslationMissingTranslationFileException</a></code></td>
              <td>
                                  if the translation could not be opened.
                              </td>
            </tr></tbody></table><a name="methodopenTranslationFileForWriting" id="openTranslationFileForWriting"><!-- --></a>

    <h4>openTranslationFileForWriting</h4>

    <div class="method-signature">
      object The
      openTranslationFileForWriting(
                                  string
          $locale
                        )
    </div>

    <p>Creates a DOM parser object for the locale $locale.</p><div><p>This function checks if the <em>location</em> setting is made, if the file  with the filename as returned by buildTranslationFileName() exists and  creates a DOM parser object for this file. If the setting  is not made, it throws an exception. IF the file does not exist, a new  DomDocument is created.</p></div>
          <h5>Parameters:</h5>
      <table class="detail"><thead><tr><th>Name</th>
            <th>Type</th>
            <th class="desc">Description</th>
          </tr></thead><tbody><tr><td><code>$locale</code></td>
              <td><em>string</em></td>
              <td>
                              </td>
            </tr></tbody></table><a name="methodrewind" id="rewind"><!-- --></a>

    <h4>rewind</h4>

    <div class="method-signature">
      void
      rewind(
      )
    </div>

    <p>Empty function to satisfy the Iterator interface.</p><div><p>The iterator interface expects this method to rewind to the start of  the array. As we do not support rewinding actually, the only thing that  the rewind() implementation does is reading the first element from the  translation file.  There are no side effects either if you just use the  foreach or while methods.  (See class introduction for an example).  This method is used for iteration as part of the Iterator interface.</p></div>
    
          <h5>Exceptions:</h5>
      <table class="detail"><thead><tr><th>Type</th>
            <th class="desc">Description</th>
          </tr></thead><tbody><tr><td><code><a href="ezcTranslationReaderNotInitializedException.html">ezcTranslationReaderNotInitializedException</a></code></td>
              <td>
                                  when the reader is not initialized with initReader().
                              </td>
            </tr></tbody></table><a name="methodsetOptions" id="setOptions"><!-- --></a>

    <h4>setOptions</h4>

    <div class="method-signature">
      void
      setOptions(
                                  <a href="ezcTranslationTsBackendOptions.html">ezcTranslationTsBackendOptions</a>
          $options
                        )
    </div>

    <p>Set new options.</p><div><p>This method allows you to change the options of the translation backend.</p></div>
          <h5>Parameters:</h5>
      <table class="detail"><thead><tr><th>Name</th>
            <th>Type</th>
            <th class="desc">Description</th>
          </tr></thead><tbody><tr><td><code>$options</code></td>
              <td><em><a href="ezcTranslationTsBackendOptions.html">ezcTranslationTsBackendOptions</a></em></td>
              <td>
                                  The options to set.
                              </td>
            </tr></tbody></table><h5>Exceptions:</h5>
      <table class="detail"><thead><tr><th>Type</th>
            <th class="desc">Description</th>
          </tr></thead><tbody><tr><td><code><a href="/zetacomponents/documentation/trunk/Base/phpdoc/ezcBaseSettingNotFoundException.html">ezcBaseSettingNotFoundException</a></code></td>
              <td>
                                  If you tried to set a non-existent option value.
                              </td>
            </tr><tr><td><code><a href="/zetacomponents/documentation/trunk/Base/phpdoc/ezcBaseSettingValueException.html">ezcBaseSettingValueException</a></code></td>
              <td>
                                  If the value is not valid for the desired option.
                              </td>
            </tr><tr><td><code><a href="/zetacomponents/documentation/trunk/Base/phpdoc/ezcBaseValueException.html">ezcBaseValueException</a></code></td>
              <td>
                                  If you submit neither an array nor an instance of ezcTranslationTsBackendOptions.
                              </td>
            </tr></tbody></table><h5>Implementation of:</h5>
      <table class="detail"><thead><tr><th>Method</th>
            <th class="desc">Description</th>
          </tr></thead><tbody><tr><td><code><a href="ezcTranslationBackend.html#methodsetOptions">ezcTranslationBackend::setOptions()</a></code></td>
              <td>
                                  Sets the backend specific $configurationData.
                              </td>
            </tr></tbody></table><a name="methodstoreContext" id="storeContext"><!-- --></a>

    <h4>storeContext</h4>

    <div class="method-signature">
      void
      storeContext(
                                  string
          $context
                            ,           
          $data
                        )
    </div>

    <p>Stores a context.</p><div><p>This method stores the context that it received to the backend specified  storage place.</p></div>
          <h5>Parameters:</h5>
      <table class="detail"><thead><tr><th>Name</th>
            <th>Type</th>
            <th class="desc">Description</th>
          </tr></thead><tbody><tr><td><code>$context</code></td>
              <td><em>string</em></td>
              <td>
                                  The context's name
                              </td>
            </tr><tr><td><code>$data</code></td>
              <td><em>array(ezcTranslationData)</em></td>
              <td>
                                  The context's translation map
                              </td>
            </tr></tbody></table><h5>Exceptions:</h5>
      <table class="detail"><thead><tr><th>Type</th>
            <th class="desc">Description</th>
          </tr></thead><tbody><tr><td><code><a href="ezcTranslationWriterNotInitializedException.html">ezcTranslationWriterNotInitializedException</a></code></td>
              <td>
                                  when the writer is not initialized with initWriter().
                              </td>
            </tr></tbody></table><h5>Implementation of:</h5>
      <table class="detail"><thead><tr><th>Method</th>
            <th class="desc">Description</th>
          </tr></thead><tbody><tr><td><code><a href="ezcTranslationContextWrite.html#methodstoreContext">ezcTranslationContextWrite::storeContext()</a></code></td>
              <td>
                                  Stores the context named $context with the data $data.
                              </td>
            </tr></tbody></table><a name="methodvalid" id="valid"><!-- --></a>

    <h4>valid</h4>

    <div class="method-signature">
      bool
      valid(
      )
    </div>

    <p>Returns whether there is a new context available.</p><div><p>This method checks whether a valid context was read. It checks the  $currentContext member variable for the status.  This method is used for iteration as part of the Iterator interface.</p></div>
    
          <h5>Exceptions:</h5>
      <table class="detail"><thead><tr><th>Type</th>
            <th class="desc">Description</th>
          </tr></thead><tbody><tr><td><code><a href="ezcTranslationReaderNotInitializedException.html">ezcTranslationReaderNotInitializedException</a></code></td>
              <td>
                                  when the reader is not initialized with initReader().
                              </td>
            </tr></tbody></table><div class="credit">
      Documentation generated by <a href="http://www.phpdoc.org">phpDocumentor 1.4.3</a>
    </div>
  </div>
  
	</div>

	<div class="footer">
	Copyright Â© 2010 <a href="http://apache.org">The Apache Software Foundation</a>
</div>
</div>
</body>
</html>
