<?xml version="1.0"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html 
	xmlns="http://www.w3.org/1999/xhtml"
	xml:lang="en"
	lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

	<meta name="description" content="Zeta Components - reusable set of high quality PHP components to fasten your development." />
	<meta name="keywords" content="" />
	<meta name="author" content="jerome" />
	<meta name="language" content="en" />
	<meta name="date" content="Sun, 10 Jul 2011 11:10:50 +0200" />
	<meta name="robots" content="all" />

	<link rel="schema.DC" href="http://purl.org/dc/elements/1.1/" />
	<meta name="DC.title" content="ezcCacheStorageMemory.html" />
	<meta name="DC.creator" content="jerome" />
	<meta name="DC.date" content="Sun, 10 Jul 2011 11:10:50 +0200" />
	<meta name="DC.rights" content="Copyright" />

	<link rel="meta" href="/documentation/trunk/Cache/phpdoc/ezcCacheStorageMemory.rdf" />
	<link rel="icon" href="/images/favicon.png" type="image/png" />

	<link rel="Stylesheet" type="text/css" href="/styles/screen.css" media="screen" />
	<link rel="Stylesheet" type="text/css" href="/styles/print.css" media="print" />


	<title>Zeta Components - high quality PHP components</title>
</head>
<body>
<div id="wcv">
	<h1>
		<a id="header-png" href="" title="Zeta Components - high quality PHP components">
			Zeta Components - high quality PHP components
		</a>
	</h1>

	<ul class="navigation">
<li >
	<a href="/news.html" title="About">About</a>
	</li>
<li >
	<a href="/community/index.html" title="Community">Community</a>
	</li>
<li class="requested">
	<a href="/documentation/overview.html" title="Documentation">Documentation</a>
	</li>
<li >
	<a href="/download/index.html" title="Download">Download</a>
	</li>
<li >
	<a href="/support.html" title="Support">Support</a>
	</li>

</ul>
<ul class="subnavigation">
<li >
	<a href="/documentation/overview.html" title="Overview">Overview</a>
	</li>
<li >
	<a href="/documentation/install.html" title="Installation">Installation</a>
	</li>

</ul>

	<div class="content">
    <ul class="tabs">
    <li >
	<a href="/documentation/trunk/Cache/tutorial.html" title="Tutorial">Tutorial</a>
	</li>
<li class="requested">
	<a href="/documentation/trunk/Cache/phpdoc/classtrees.html" title="API">API</a>
	</li>

</ul>

		
  <div class="phpdoc">
    <h2>Zeta Components Manual :: Docs For Class ezcCacheStorageMemory</h2>

                  <h3>Cache::ezcCacheStorageMemory</h3>
    
<a name="sec-description"></a>
<h3>Class ezcCacheStorageMemory</h3>

<p>Base abstract class for all memory storage classes.</p><div><p>Abstract classes extending this class: </p><ul><li><a href="ezcCacheStorageMemcache.html">ezcCacheStorageMemcache</a></li><li><a href="ezcCacheStorageApc.html">ezcCacheStorageApc</a></li></ul>  Implementations derived from this class and its descendants: <ul><li><a href="ezcCacheStorageMemcachePlain.html">ezcCacheStorageMemcachePlain</a></li><li><a href="ezcCacheStorageApcPlain.html">ezcCacheStorageApcPlain</a></li><li><a href="ezcCacheStorageFileApcArray.html">ezcCacheStorageFileApcArray</a></li></ul></div>
<p>Source for this file: <a href="http://fisheye6.atlassian.com/browse/zetacomponents/trunk/Cache/src/storage/memory.php?r=HEAD">/Cache/src/storage/memory.php</a></p>
       
  <h3>Implements interfaces:</h3>
  <ul><li><a href="ezcCacheStackableStorage.html">ezcCacheStackableStorage</a></li><li><a href="ezcCacheStackMetaDataStorage.html">ezcCacheStackMetaDataStorage</a></li>  </ul><pre><a href="ezcCacheStorage.html">ezcCacheStorage</a>
   |
   --ezcCacheStorageMemory</pre>


  <table><tr><td>
            <strong>Version:</strong>&#8192;&#8192;
          </td>
          <td>//autogentag//</td>
        </tr></table><a name="sec-descendants"></a>
  <h3>Descendants</h3>
  <table class="detail"><thead><tr><th>Child Class</th>
        <th>Description</th>
      </tr></thead><tbody><tr><td><a href="ezcCacheStorageApc.html">ezcCacheStorageApc</a></td>          <td>
                          This class is a common base class for all APC based storage classes.
                      </td>
        </tr><tr><td><a href="ezcCacheStorageMemcache.html">ezcCacheStorageMemcache</a></td>          <td>
                          This class is a common base class for all Memcache based storage classes.
                      </td>
        </tr></tbody></table><a name="sec-var-summary"></a>
  <h3>Member Variables</h3>
  <table class="summary"><tr><td class="right">
            <em>protected</em>            <em><a href="ezcCacheMemoryBackend.html">ezcCacheMemoryBackend</a></em>          </td>
          <td>
            <code>
              $backend
                          </code>
            <br><div style="margin-left: 20px">Holds the memory backend object which communicates with the memory handler  (Memcache, APC).</div>                      </td>
        </tr><tr><td class="right">
            <em>protected</em>            <em>string</em>          </td>
          <td>
            <code>
              $backendName
                          </code>
            <br><div style="margin-left: 20px">Holds the name of the memory backend.</div>                      </td>
        </tr><tr><td class="right">
            <em>protected</em>            <em>array(mixed)</em>          </td>
          <td>
            <code>
              $registry
               = <span class="var-default">array()</span>            </code>
            <br><div style="margin-left: 20px">Holds the registry.</div>                      </td>
        </tr><tr><td class="right">
            <em>protected</em>            <em>string</em>          </td>
          <td>
            <code>
              $registryName
                          </code>
            <br><div style="margin-left: 20px">Holds the name of the registry.</div>                      </td>
        </tr><tr><td class="right">
            <em>protected</em>            <em>array(mixed)</em>          </td>
          <td>
            <code>
              $searchRegistry
               = <span class="var-default">array()</span>            </code>
            <br><div style="margin-left: 20px">Holds the search registry.</div>                      </td>
        </tr></table><h3>Inherited Member Variables</h3>
  <table class="summary"><thead><tr><th colspan="2">
            From <span class="classname"><a href="ezcCacheStorage.html">ezcCacheStorage</a></span>         
          </th>
        </tr></thead><tbody><tr><td class="right">
              <em>protected</em>                          </td>
            <td>
              <code><a href="ezcCacheStorage.html#var%24properties">ezcCacheStorage::$properties</a></code>
              
            </td>
          </tr></tbody></table><a name="sec-method-summary"></a>
  <h3>Method Summary</h3>
  <table class="summary"><tr><td class="right">
            <em>public</em>                        <em>ezcCacheStorageMemory</em>          </td>
          <td>
            <code>
              <a href="#__construct"><b>__construct</b></a>(
                                                                                    $location
                                                    ,                   [                  $options
                   = array()]                               )
            </code>
            <br><div style="margin-left: 20px">Creates a new cache storage in the given location.</div>          </td>
        </tr><tr><td class="right">
            <em>protected</em>                        <em>int</em>          </td>
          <td>
            <code>
              <a href="#calcLifetime"><b>calcLifetime</b></a>(
                                                                                    $identifier
                                                    ,                   [                  $dataObject
                   = false]                               )
            </code>
            <br><div style="margin-left: 20px">Calculates the lifetime remaining for a cache object.</div>          </td>
        </tr><tr><td class="right">
            <em>public</em>                        <em>int</em>          </td>
          <td>
            <code>
              <a href="#countDataItems"><b>countDataItems</b></a>(
                                                                  [                  $id
                   = null]                                  ,                   [                  $attributes
                   = array()]                               )
            </code>
            <br><div style="margin-left: 20px">Returns the number of items in the cache matching a certain criteria.</div>          </td>
        </tr><tr><td class="right">
            <em>public</em>                        <em>void</em>          </td>
          <td>
            <code>
              <a href="#delete"><b>delete</b></a>(
                                                                  [                  $id
                   = null]                                  ,                   [                  $attributes
                   = array()]                                  ,                   [                  $search
                   = false]                               )
            </code>
            <br><div style="margin-left: 20px">Deletes the data associated with $id or $attributes from the cache.</div>          </td>
        </tr><tr><td class="right">
            <em>protected</em>                        <em>void</em>          </td>
          <td>
            <code>
              <a href="#fetchSearchRegistry"><b>fetchSearchRegistry</b></a>(
                                                                  [                  $requireFresh
                   = false]                               )
            </code>
            <br><div style="margin-left: 20px">Fetches the search registry from the backend or creates it if empty.</div>          </td>
        </tr><tr><td class="right">
            <em>protected</em>                        <em>string</em>          </td>
          <td>
            <code>
              <a href="#generateAttrStr"><b>generateAttrStr</b></a>(
                                                                  [                  $attributes
                   = array()]                               )
            </code>
            <br><div style="margin-left: 20px">Generates a string from the $attributes array.</div>          </td>
        </tr><tr><td class="right">
            <em>public</em>                        <em>string</em>          </td>
          <td>
            <code>
              <a href="#generateIdentifier"><b>generateIdentifier</b></a>(
                                                                                    $id
                                                    ,                   [                  $attributes
                   = null]                               )
            </code>
            <br><div style="margin-left: 20px">Generates the storage internal identifier from ID and attributes.</div>          </td>
        </tr><tr><td class="right">
            <em>public</em>                        <em>int</em>          </td>
          <td>
            <code>
              <a href="#getRemainingLifetime"><b>getRemainingLifetime</b></a>(
                                                                                    $id
                                                    ,                   [                  $attributes
                   = array()]                               )
            </code>
            <br><div style="margin-left: 20px">Returns the time in seconds which remains for a cache object, before it  gets outdated. In case the cache object is already outdated or does not  exists, this method returns 0.</div>          </td>
        </tr><tr><td class="right">
            <em>public</em>                        <em>void</em>          </td>
          <td>
            <code>
              <a href="#lock"><b>lock</b></a>(
               )
            </code>
            <br><div style="margin-left: 20px">Acquire a lock on the storage.</div>          </td>
        </tr><tr><td class="right">
            <em>public</em>                        <em>array(string)</em>          </td>
          <td>
            <code>
              <a href="#purge"><b>purge</b></a>(
                                                                  [                  $limit
                   = null]                               )
            </code>
            <br><div style="margin-left: 20px">Purge outdated data from the storage.</div>          </td>
        </tr><tr><td class="right">
            <em>protected</em>                        <em>void</em>          </td>
          <td>
            <code>
              <a href="#registerIdentifier"><b>registerIdentifier</b></a>(
                                                                  [                  $id
                   = null]                                  ,                   [                  $attributes
                   = array()]                                  ,                   [                  $identifier
                   = null]                               )
            </code>
            <br><div style="margin-left: 20px">Registers an identifier to facilitate searching.</div>          </td>
        </tr><tr><td class="right">
            <em>public</em>                        <em>void</em>          </td>
          <td>
            <code>
              <a href="#reset"><b>reset</b></a>(
               )
            </code>
            <br><div style="margin-left: 20px">Reset the complete storage.</div>          </td>
        </tr><tr><td class="right">
            <em>public</em>                        <em>mixed</em>          </td>
          <td>
            <code>
              <a href="#restore"><b>restore</b></a>(
                                                                                    $id
                                                    ,                   [                  $attributes
                   = array()]                                  ,                   [                  $search
                   = false]                               )
            </code>
            <br><div style="margin-left: 20px">Restores the data from the cache.</div>          </td>
        </tr><tr><td class="right">
            <em>public</em>                        <em><a href="ezcCacheStackMetaData.html">ezcCacheStackMetaData</a></em>          </td>
          <td>
            <code>
              <a href="#restoreMetaData"><b>restoreMetaData</b></a>(
               )
            </code>
            <br><div style="margin-left: 20px">Restores and returns the meta data struct.</div>          </td>
        </tr><tr><td class="right">
            <em>protected</em>                        <em>array(mixed)</em>          </td>
          <td>
            <code>
              <a href="#search"><b>search</b></a>(
                                                                  [                  $id
                   = null]                                  ,                   [                  $attributes
                   = array()]                               )
            </code>
            <br><div style="margin-left: 20px">Searches the storage for data defined by ID and/or attributes.</div>          </td>
        </tr><tr><td class="right">
            <em>public</em>                        <em>string</em>          </td>
          <td>
            <code>
              <a href="#store"><b>store</b></a>(
                                                                                    $id
                                                    ,                                     $data
                                                    ,                   [                  $attributes
                   = array()]                               )
            </code>
            <br><div style="margin-left: 20px">Stores data to the cache storage under the key $id.</div>          </td>
        </tr><tr><td class="right">
            <em>public</em>                        <em>void</em>          </td>
          <td>
            <code>
              <a href="#storeMetaData"><b>storeMetaData</b></a>(
                                                                                    $metaData
                                                 )
            </code>
            <br><div style="margin-left: 20px">Stores the given meta data struct.</div>          </td>
        </tr><tr><td class="right">
            <em>protected</em>                        <em>void</em>          </td>
          <td>
            <code>
              <a href="#storeSearchRegistry"><b>storeSearchRegistry</b></a>(
               )
            </code>
            <br><div style="margin-left: 20px">Stores the search registry in the backend.</div>          </td>
        </tr><tr><td class="right">
            <em>public</em>                        <em>void</em>          </td>
          <td>
            <code>
              <a href="#unlock"><b>unlock</b></a>(
               )
            </code>
            <br><div style="margin-left: 20px">Release a lock on the storage.</div>          </td>
        </tr><tr><td class="right">
            <em>protected</em>                        <em>void</em>          </td>
          <td>
            <code>
              <a href="#unRegisterIdentifier"><b>unRegisterIdentifier</b></a>(
                                                                  [                  $id
                   = null]                                  ,                   [                  $attributes
                   = array()]                                  ,                   [                  $identifier
                   = null]                                  ,                   [                  $delayStore
                   = false]                               )
            </code>
            <br><div style="margin-left: 20px">Un-registers a previously registered identifier.</div>          </td>
        </tr><tr><td class="right">
            <em>protected</em>                        <em>void</em>          </td>
          <td>
            <code>
              <a href="#validateLocation"><b>validateLocation</b></a>(
               )
            </code>
            <br><div style="margin-left: 20px">Checks if the location property is valid.</div>          </td>
        </tr></table><h3>Inherited Methods</h3>
  <table class="summary"><thead><tr><th colspan="2">
            From <span class="classname"><a href="ezcCacheStorage.html">ezcCacheStorage</a></span>
          </th>
        </tr></thead><tbody><tr><td class="right">
              <em>public</em>                                          <em>ezcCacheStorage</em>            </td>
            <td>
              <code><b><a href="ezcCacheStorage.html#method__construct">ezcCacheStorage::__construct()</a></b></code>
              <br><div style="margin-left: 20px">Creates a new cache storage in the given location.</div>                          </td>
          </tr><tr><td class="right">
              <em>public</em>              abstract                            <em>int</em>            </td>
            <td>
              <code><b><a href="ezcCacheStorage.html#methodcountDataItems">ezcCacheStorage::countDataItems()</a></b></code>
              <br><div style="margin-left: 20px">Return the number of items in the cache matching a certain criteria.</div>                          </td>
          </tr><tr><td class="right">
              <em>public</em>              abstract                            <em>void</em>            </td>
            <td>
              <code><b><a href="ezcCacheStorage.html#methoddelete">ezcCacheStorage::delete()</a></b></code>
              <br><div style="margin-left: 20px">Delete data from the cache.</div>                          </td>
          </tr><tr><td class="right">
              <em>public</em>                                          <em>string</em>            </td>
            <td>
              <code><b><a href="ezcCacheStorage.html#methodgetLocation">ezcCacheStorage::getLocation()</a></b></code>
              <br><div style="margin-left: 20px">Returns the location.</div>                          </td>
          </tr><tr><td class="right">
              <em>public</em>                                          <em><a href="ezcCacheStorageOptions.html">ezcCacheStorageOptions</a></em>            </td>
            <td>
              <code><b><a href="ezcCacheStorage.html#methodgetOptions">ezcCacheStorage::getOptions()</a></b></code>
              <br><div style="margin-left: 20px">Return the currently set options.</div>                          </td>
          </tr><tr><td class="right">
              <em>public</em>              abstract                            <em>int</em>            </td>
            <td>
              <code><b><a href="ezcCacheStorage.html#methodgetRemainingLifetime">ezcCacheStorage::getRemainingLifetime()</a></b></code>
              <br><div style="margin-left: 20px">Returns the time ( in seconds ) that remains for a cache object,  before it gets outdated. In case the cache object is already  outdated or does not exist, this method returns 0.</div>                          </td>
          </tr><tr><td class="right">
              <em>public</em>              abstract                            <em>mixed</em>            </td>
            <td>
              <code><b><a href="ezcCacheStorage.html#methodrestore">ezcCacheStorage::restore()</a></b></code>
              <br><div style="margin-left: 20px">Restore data from the cache.</div>                          </td>
          </tr><tr><td class="right">
              <em>public</em>                                          <em>void</em>            </td>
            <td>
              <code><b><a href="ezcCacheStorage.html#methodsetOptions">ezcCacheStorage::setOptions()</a></b></code>
              <br><div style="margin-left: 20px">Set new options.</div>                          </td>
          </tr><tr><td class="right">
              <em>public</em>              abstract                            <em>string</em>            </td>
            <td>
              <code><b><a href="ezcCacheStorage.html#methodstore">ezcCacheStorage::store()</a></b></code>
              <br><div style="margin-left: 20px">Store data to the cache storage.</div>                          </td>
          </tr><tr><td class="right">
              <em>protected</em>              abstract                            <em>void</em>            </td>
            <td>
              <code><b><a href="ezcCacheStorage.html#methodvalidateLocation">ezcCacheStorage::validateLocation()</a></b></code>
              <br><div style="margin-left: 20px">Checks if the location property is valid.</div>                          </td>
          </tr></tbody></table><a name="sec-methods"></a>
  <h3>Methods</h3>
  <a name="method_detail"></a>
                                          
      <a name="method__construct" id="__construct"><!-- --></a>

    <h4>__construct</h4>

    <div class="method-signature">
      ezcCacheStorageMemory
      __construct(
                                  string
          $location
                            ,           [
          $options
           = array()]              )
    </div>

    <p>Creates a new cache storage in the given location.</p><div><p>Options can contain the 'ttl' (Time-To-Live). Specific implementations  can have additional options.</p></div>
          <h5>Parameters:</h5>
      <table class="detail"><thead><tr><th>Name</th>
            <th>Type</th>
            <th class="desc">Description</th>
          </tr></thead><tbody><tr><td><code>$location</code></td>
              <td><em>string</em></td>
              <td>
                                  Path to the cache location. Null for                          memory-based storage and an existing                          writeable path for file or memory/file                          storage.
                              </td>
            </tr><tr><td><code>$options</code></td>
              <td><em>array(string=&gt;string)</em></td>
              <td>
                                  Options for the cache
                              </td>
            </tr></tbody></table><h5>Exceptions:</h5>
      <table class="detail"><thead><tr><th>Type</th>
            <th class="desc">Description</th>
          </tr></thead><tbody><tr><td><code><a href="/documentation/trunk/Base/phpdoc/ezcBasePropertyNotFoundException.html">ezcBasePropertyNotFoundException</a></code></td>
              <td>
                                  If you tried to set a non-existent option value. The accepted options depend on the ezcCacheStorage implementation and may vary.
                              </td>
            </tr></tbody></table><h5>Redefinition of:</h5>
      <table class="detail"><thead><tr><th>Method</th>
            <th class="desc">Description</th>
          </tr></thead><tbody><tr><td><code><a href="ezcCacheStorage.html#method__construct">ezcCacheStorage::__construct()</a></code></td>
            <td>
                              Creates a new cache storage in the given location.
                          </td>
          </tr></tbody></table><h5>Redefined in descendants as:</h5>
      <table class="detail"><thead><tr><th>Method</th>
            <th class="desc">Description</th>
          </tr></thead><tbody><tr><td><code><a href="ezcCacheStorageApc.html#method__construct">ezcCacheStorageApc::__construct()</a></code></td>
              <td>
                Creates a new cache storage in the given location.&#8192;
              </td>
            </tr><tr><td><code><a href="ezcCacheStorageFileApcArray.html#method__construct">ezcCacheStorageFileApcArray::__construct()</a></code></td>
              <td>
                Creates a new cache storage in the given location. The location in case  of this storage class must a valid file system directory.&#8192;
              </td>
            </tr><tr><td><code><a href="ezcCacheStorageMemcache.html#method__construct">ezcCacheStorageMemcache::__construct()</a></code></td>
              <td>
                Creates a new cache storage in the given location.&#8192;
              </td>
            </tr></tbody></table><a name="methodcalcLifetime" id="calcLifetime"><!-- --></a>

    <h4>calcLifetime</h4>

    <div class="method-signature">
      int
      calcLifetime(
                                  string
          $identifier
                            ,           [bool
          $dataObject
           = false]              )
    </div>

    <p>Calculates the lifetime remaining for a cache object.</p><div><p>In case the TTL options is set to true, this method always returns 1.</p></div>
          <h5>Parameters:</h5>
      <table class="detail"><thead><tr><th>Name</th>
            <th>Type</th>
            <th class="desc">Description</th>
          </tr></thead><tbody><tr><td><code>$identifier</code></td>
              <td><em>string</em></td>
              <td>
                                  The memcache identifier
                              </td>
            </tr><tr><td><code>$dataObject</code></td>
              <td><em>bool</em></td>
              <td>
                                  The optional data object for which to calculate the lifetime
                              </td>
            </tr></tbody></table><h5>Redefined in descendants as:</h5>
      <table class="detail"><thead><tr><th>Method</th>
            <th class="desc">Description</th>
          </tr></thead><tbody><tr><td><code><a href="ezcCacheStorageFileApcArray.html#methodcalcLifetime">ezcCacheStorageFileApcArray::calcLifetime()</a></code></td>
              <td>
                Calculates the lifetime remaining for a cache object.&#8192;
              </td>
            </tr></tbody></table><a name="methodcountDataItems" id="countDataItems"><!-- --></a>

    <h4>countDataItems</h4>

    <div class="method-signature">
      int
      countDataItems(
                                  [string
          $id
           = null]                  ,           [array(string=&gt;string)
          $attributes
           = array()]              )
    </div>

    <p>Returns the number of items in the cache matching a certain criteria.</p><div><p>This method determines if cache data described by the given ID and/or  attributes exists. It returns the number of cache data items found.</p></div>
          <h5>Parameters:</h5>
      <table class="detail"><thead><tr><th>Name</th>
            <th>Type</th>
            <th class="desc">Description</th>
          </tr></thead><tbody><tr><td><code>$id</code></td>
              <td><em>string</em></td>
              <td>
                                  The item ID
                              </td>
            </tr><tr><td><code>$attributes</code></td>
              <td><em>array(string=&gt;string)</em></td>
              <td>
                                  Attributes describing the data
                              </td>
            </tr></tbody></table><h5>Redefinition of:</h5>
      <table class="detail"><thead><tr><th>Method</th>
            <th class="desc">Description</th>
          </tr></thead><tbody><tr><td><code><a href="ezcCacheStorage.html#methodcountDataItems">ezcCacheStorage::countDataItems()</a></code></td>
            <td>
                              Return the number of items in the cache matching a certain criteria.
                          </td>
          </tr></tbody></table><a name="methoddelete" id="delete"><!-- --></a>

    <h4>delete</h4>

    <div class="method-signature">
      void
      delete(
                                  [string
          $id
           = null]                  ,           [array(string=&gt;string)
          $attributes
           = array()]                  ,           [bool
          $search
           = false]              )
    </div>

    <p>Deletes the data associated with $id or $attributes from the cache.</p><div><p>Additional attributes provided will matched additionally. This can give  you an immense speed improvement against just searching for ID (see  <a href="ezcCacheStorage.html#methodrestore">ezcCacheStorage::restore()</a>).</p><p>If you only provide attributes for deletion of cache data, all cache  data matching these attributes will be purged.</p></div>
          <h5>Parameters:</h5>
      <table class="detail"><thead><tr><th>Name</th>
            <th>Type</th>
            <th class="desc">Description</th>
          </tr></thead><tbody><tr><td><code>$id</code></td>
              <td><em>string</em></td>
              <td>
                                  The item ID to purge
                              </td>
            </tr><tr><td><code>$attributes</code></td>
              <td><em>array(string=&gt;string)</em></td>
              <td>
                                  Attributes describing the data to restore
                              </td>
            </tr><tr><td><code>$search</code></td>
              <td><em>bool</em></td>
              <td>
                                  Whether to search for items if not found directly
                              </td>
            </tr></tbody></table><h5>Exceptions:</h5>
      <table class="detail"><thead><tr><th>Type</th>
            <th class="desc">Description</th>
          </tr></thead><tbody><tr><td><code><a href="/documentation/trunk/Base/phpdoc/ezcBaseFilePermissionException.html">ezcBaseFilePermissionException</a></code></td>
              <td>
                                  If an already existsing cache file could not be unlinked. This exception means most likely that your cache directory has been corrupted by external influences (file permission change).
                              </td>
            </tr></tbody></table><h5>Redefinition of:</h5>
      <table class="detail"><thead><tr><th>Method</th>
            <th class="desc">Description</th>
          </tr></thead><tbody><tr><td><code><a href="ezcCacheStorage.html#methoddelete">ezcCacheStorage::delete()</a></code></td>
            <td>
                              Delete data from the cache.
                          </td>
          </tr></tbody></table><h5>Redefined in descendants as:</h5>
      <table class="detail"><thead><tr><th>Method</th>
            <th class="desc">Description</th>
          </tr></thead><tbody><tr><td><code><a href="ezcCacheStorageFileApcArray.html#methoddelete">ezcCacheStorageFileApcArray::delete()</a></code></td>
              <td>
                Deletes the data associated with $id or $attributes from the cache.&#8192;
              </td>
            </tr></tbody></table><a name="methodfetchSearchRegistry" id="fetchSearchRegistry"><!-- --></a>

    <h4>fetchSearchRegistry</h4>

    <div class="method-signature">
      void
      fetchSearchRegistry(
                                  [bool
          $requireFresh
           = false]              )
    </div>

    <p>Fetches the search registry from the backend or creates it if empty.</p>
          <h5>Parameters:</h5>
      <table class="detail"><thead><tr><th>Name</th>
            <th>Type</th>
            <th class="desc">Description</th>
          </tr></thead><tbody><tr><td><code>$requireFresh</code></td>
              <td><em>bool</em></td>
              <td>
                                  To create a new search registry or not
                              </td>
            </tr></tbody></table><a name="methodgenerateAttrStr" id="generateAttrStr"><!-- --></a>

    <h4>generateAttrStr</h4>

    <div class="method-signature">
      string
      generateAttrStr(
                                  [array(string=&gt;string)
          $attributes
           = array()]              )
    </div>

    <p>Generates a string from the $attributes array.</p>
          <h5>Parameters:</h5>
      <table class="detail"><thead><tr><th>Name</th>
            <th>Type</th>
            <th class="desc">Description</th>
          </tr></thead><tbody><tr><td><code>$attributes</code></td>
              <td><em>array(string=&gt;string)</em></td>
              <td>
                                  Attributes describing the data
                              </td>
            </tr></tbody></table><a name="methodgenerateIdentifier" id="generateIdentifier"><!-- --></a>

    <h4>generateIdentifier</h4>

    <div class="method-signature">
      string
      generateIdentifier(
                                  string
          $id
                            ,           [array(string=&gt;string)
          $attributes
           = null]              )
    </div>

    <p>Generates the storage internal identifier from ID and attributes.</p>
          <h5>Parameters:</h5>
      <table class="detail"><thead><tr><th>Name</th>
            <th>Type</th>
            <th class="desc">Description</th>
          </tr></thead><tbody><tr><td><code>$id</code></td>
              <td><em>string</em></td>
              <td>
                                  The ID
                              </td>
            </tr><tr><td><code>$attributes</code></td>
              <td><em>array(string=&gt;string)</em></td>
              <td>
                                  Attributes describing the data
                              </td>
            </tr></tbody></table><a name="methodgetRemainingLifetime" id="getRemainingLifetime"><!-- --></a>

    <h4>getRemainingLifetime</h4>

    <div class="method-signature">
      int
      getRemainingLifetime(
                                  string
          $id
                            ,           [array(string=&gt;string)
          $attributes
           = array()]              )
    </div>

    <p>Returns the time in seconds which remains for a cache object, before it  gets outdated. In case the cache object is already outdated or does not  exists, this method returns 0.</p>
          <h5>Parameters:</h5>
      <table class="detail"><thead><tr><th>Name</th>
            <th>Type</th>
            <th class="desc">Description</th>
          </tr></thead><tbody><tr><td><code>$id</code></td>
              <td><em>string</em></td>
              <td>
                                  The item ID
                              </td>
            </tr><tr><td><code>$attributes</code></td>
              <td><em>array(string=&gt;string)</em></td>
              <td>
                                  Attributes describing the data
                              </td>
            </tr></tbody></table><h5>Redefinition of:</h5>
      <table class="detail"><thead><tr><th>Method</th>
            <th class="desc">Description</th>
          </tr></thead><tbody><tr><td><code><a href="ezcCacheStorage.html#methodgetRemainingLifetime">ezcCacheStorage::getRemainingLifetime()</a></code></td>
            <td>
                              Returns the time ( in seconds ) that remains for a cache object,  before it gets outdated. In case the cache object is already  outdated or does not exist, this method returns 0.
                          </td>
          </tr></tbody></table><a name="methodlock" id="lock"><!-- --></a>

    <h4>lock</h4>

    <div class="method-signature">
      void
      lock(
      )
    </div>

    <p>Acquire a lock on the storage.</p><div><p>This method acquires a lock on the storage. If locked, the storage must  block all other method calls until the lock is freed again using <a href="ezcCacheStackMetaDataStorage.html#methodunlock">ezcCacheStackMetaDataStorage::unlock()</a>. Methods that are called within  the request that successfully acquired the lock must succeed as usual.</p></div>
    
        

    
          <h5>Implementation of:</h5>
      <table class="detail"><thead><tr><th>Method</th>
            <th class="desc">Description</th>
          </tr></thead><tbody><tr><td><code><a href="ezcCacheStackMetaDataStorage.html#methodlock">ezcCacheStackMetaDataStorage::lock()</a></code></td>
              <td>
                                  Acquire a lock on the storage.
                              </td>
            </tr></tbody></table><a name="methodpurge" id="purge"><!-- --></a>

    <h4>purge</h4>

    <div class="method-signature">
      array(string)
      purge(
                                  [int
          $limit
           = null]              )
    </div>

    <p>Purge outdated data from the storage.</p><div><p>This method purges outdated data from the cache. If $limit is given, a  maximum of $limit items is purged. Otherwise all outdated items are  purged. The method returns an array containing the IDs of all cache  items that have been purged.</p></div>
          <h5>Parameters:</h5>
      <table class="detail"><thead><tr><th>Name</th>
            <th>Type</th>
            <th class="desc">Description</th>
          </tr></thead><tbody><tr><td><code>$limit</code></td>
              <td><em>int</em></td>
              <td>
                              </td>
            </tr></tbody></table><h5>Implementation of:</h5>
      <table class="detail"><thead><tr><th>Method</th>
            <th class="desc">Description</th>
          </tr></thead><tbody><tr><td><code><a href="ezcCacheStackableStorage.html#methodpurge">ezcCacheStackableStorage::purge()</a></code></td>
              <td>
                                  Purge outdated data from the storage.
                              </td>
            </tr></tbody></table><a name="methodregisterIdentifier" id="registerIdentifier"><!-- --></a>

    <h4>registerIdentifier</h4>

    <div class="method-signature">
      void
      registerIdentifier(
                                  [string
          $id
           = null]                  ,           [array
          $attributes
           = array()]                  ,           [string
          $identifier
           = null]              )
    </div>

    <p>Registers an identifier to facilitate searching.</p>
          <h5>Parameters:</h5>
      <table class="detail"><thead><tr><th>Name</th>
            <th>Type</th>
            <th class="desc">Description</th>
          </tr></thead><tbody><tr><td><code>$id</code></td>
              <td><em>string</em></td>
              <td>
                                  ID for the cache item
                              </td>
            </tr><tr><td><code>$attributes</code></td>
              <td><em>array</em></td>
              <td>
                                  Attributes for the cache item
                              </td>
            </tr><tr><td><code>$identifier</code></td>
              <td><em>string</em></td>
              <td>
                                  Identifier generated for the cache item
                              </td>
            </tr></tbody></table><a name="methodreset" id="reset"><!-- --></a>

    <h4>reset</h4>

    <div class="method-signature">
      void
      reset(
      )
    </div>

    <p>Reset the complete storage.</p><div><p>This method resets the complete cache storage. All content (including  content stored with the <a href="ezcCacheStackMetaDataStorage.html">ezcCacheStackMetaDataStorage</a> interfacer) must  be deleted and the cache storage must appear as if it has just newly  been created.</p></div>
    
        

    
          <h5>Implementation of:</h5>
      <table class="detail"><thead><tr><th>Method</th>
            <th class="desc">Description</th>
          </tr></thead><tbody><tr><td><code><a href="ezcCacheStackableStorage.html#methodreset">ezcCacheStackableStorage::reset()</a></code></td>
              <td>
                                  Reset the complete storage.
                              </td>
            </tr></tbody></table><a name="methodrestore" id="restore"><!-- --></a>

    <h4>restore</h4>

    <div class="method-signature">
      mixed
      restore(
                                  string
          $id
                            ,           [array(string=&gt;string)
          $attributes
           = array()]                  ,           [bool
          $search
           = false]              )
    </div>

    <p>Restores the data from the cache.</p><div><p>During access to cached data the caches are automatically  expired. This means, that the ezcCacheStorageMemory object checks  before returning the data if it's still actual. If the cache  has expired, data will be deleted and false is returned.</p><p>You should always provide the attributes you assigned, although  the cache storages must be able to find a cache ID even without  them. BEWARE: Finding cache data only by ID can be much  slower than finding it by ID and attributes.</p></div>
          <h5>Parameters:</h5>
      <table class="detail"><thead><tr><th>Name</th>
            <th>Type</th>
            <th class="desc">Description</th>
          </tr></thead><tbody><tr><td><code>$id</code></td>
              <td><em>string</em></td>
              <td>
                                  The item ID to restore
                              </td>
            </tr><tr><td><code>$attributes</code></td>
              <td><em>array(string=&gt;string)</em></td>
              <td>
                                  Attributes describing the data to restore
                              </td>
            </tr><tr><td><code>$search</code></td>
              <td><em>bool</em></td>
              <td>
                                  Whether to search for items if not found directly
                              </td>
            </tr></tbody></table><h5>Redefinition of:</h5>
      <table class="detail"><thead><tr><th>Method</th>
            <th class="desc">Description</th>
          </tr></thead><tbody><tr><td><code><a href="ezcCacheStorage.html#methodrestore">ezcCacheStorage::restore()</a></code></td>
            <td>
                              Restore data from the cache.
                          </td>
          </tr></tbody></table><h5>Redefined in descendants as:</h5>
      <table class="detail"><thead><tr><th>Method</th>
            <th class="desc">Description</th>
          </tr></thead><tbody><tr><td><code><a href="ezcCacheStorageFileApcArray.html#methodrestore">ezcCacheStorageFileApcArray::restore()</a></code></td>
              <td>
                Restores the data from the cache.&#8192;
              </td>
            </tr></tbody></table><a name="methodrestoreMetaData" id="restoreMetaData"><!-- --></a>

    <h4>restoreMetaData</h4>

    <div class="method-signature">
      <a href="ezcCacheStackMetaData.html">ezcCacheStackMetaData</a>
      restoreMetaData(
      )
    </div>

    <p>Restores and returns the meta data struct.</p><div><p>This method fetches the meta data stored in the storage and returns the  according struct of type <a href="ezcCacheStackMetaData.html">ezcCacheStackMetaData</a>. The meta data  must be stored inside the storage, but should not be visible as normal  cache items to the user.</p></div>
    
        

    
          <h5>Implementation of:</h5>
      <table class="detail"><thead><tr><th>Method</th>
            <th class="desc">Description</th>
          </tr></thead><tbody><tr><td><code><a href="ezcCacheStackMetaDataStorage.html#methodrestoreMetaData">ezcCacheStackMetaDataStorage::restoreMetaData()</a></code></td>
              <td>
                                  Restores and returns the meta data struct.
                              </td>
            </tr></tbody></table><a name="methodsearch" id="search"><!-- --></a>

    <h4>search</h4>

    <div class="method-signature">
      array(mixed)
      search(
                                  [string
          $id
           = null]                  ,           [array(string=&gt;string)
          $attributes
           = array()]              )
    </div>

    <p>Searches the storage for data defined by ID and/or attributes.</p>
          <h5>Parameters:</h5>
      <table class="detail"><thead><tr><th>Name</th>
            <th>Type</th>
            <th class="desc">Description</th>
          </tr></thead><tbody><tr><td><code>$id</code></td>
              <td><em>string</em></td>
              <td>
                                  The item ID
                              </td>
            </tr><tr><td><code>$attributes</code></td>
              <td><em>array(string=&gt;string)</em></td>
              <td>
                                  Attributes describing the data
                              </td>
            </tr></tbody></table><a name="methodstore" id="store"><!-- --></a>

    <h4>store</h4>

    <div class="method-signature">
      string
      store(
                                  string
          $id
                            ,           mixed
          $data
                            ,           [array(string=&gt;string)
          $attributes
           = array()]              )
    </div>

    <p>Stores data to the cache storage under the key $id.</p><div><p>The type of cache data which is expected by an ezcCacheStorageMemory  implementation depends on the backend. In most cases strings and arrays  will be accepted, in some rare cases only strings might be accepted.</p><p>Using attributes you can describe your cache data further. This allows  you to deal with multiple cache data at once later. Some  ezcCacheStorageMemory implementations also use the attributes for storage  purposes. Attributes form some kind of "extended ID".</p></div>
          <h5>Parameters:</h5>
      <table class="detail"><thead><tr><th>Name</th>
            <th>Type</th>
            <th class="desc">Description</th>
          </tr></thead><tbody><tr><td><code>$id</code></td>
              <td><em>string</em></td>
              <td>
                                  Unique identifier for the data
                              </td>
            </tr><tr><td><code>$data</code></td>
              <td><em>mixed</em></td>
              <td>
                                  The data to store
                              </td>
            </tr><tr><td><code>$attributes</code></td>
              <td><em>array(string=&gt;string)</em></td>
              <td>
                                  Attributes describing the cached data
                              </td>
            </tr></tbody></table><h5>Redefinition of:</h5>
      <table class="detail"><thead><tr><th>Method</th>
            <th class="desc">Description</th>
          </tr></thead><tbody><tr><td><code><a href="ezcCacheStorage.html#methodstore">ezcCacheStorage::store()</a></code></td>
            <td>
                              Store data to the cache storage.
                          </td>
          </tr></tbody></table><h5>Redefined in descendants as:</h5>
      <table class="detail"><thead><tr><th>Method</th>
            <th class="desc">Description</th>
          </tr></thead><tbody><tr><td><code><a href="ezcCacheStorageFileApcArray.html#methodstore">ezcCacheStorageFileApcArray::store()</a></code></td>
              <td>
                Stores data to the cache storage.&#8192;
              </td>
            </tr></tbody></table><a name="methodstoreMetaData" id="storeMetaData"><!-- --></a>

    <h4>storeMetaData</h4>

    <div class="method-signature">
      void
      storeMetaData(
                                  <a href="ezcCacheStackMetaData.html">ezcCacheStackMetaData</a>
          $metaData
                        )
    </div>

    <p>Stores the given meta data struct.</p><div><p>This method stores the given $metaData inside the storage. The data must  be stored with the same mechanism that the storage itself uses. However,  it should not be stored as a normal cache item, if possible, to avoid  accedental user manipulation.</p></div>
          <h5>Parameters:</h5>
      <table class="detail"><thead><tr><th>Name</th>
            <th>Type</th>
            <th class="desc">Description</th>
          </tr></thead><tbody><tr><td><code>$metaData</code></td>
              <td><em><a href="ezcCacheStackMetaData.html">ezcCacheStackMetaData</a></em></td>
              <td>
                              </td>
            </tr></tbody></table><h5>Implementation of:</h5>
      <table class="detail"><thead><tr><th>Method</th>
            <th class="desc">Description</th>
          </tr></thead><tbody><tr><td><code><a href="ezcCacheStackMetaDataStorage.html#methodstoreMetaData">ezcCacheStackMetaDataStorage::storeMetaData()</a></code></td>
              <td>
                                  Stores the given meta data struct.
                              </td>
            </tr></tbody></table><a name="methodstoreSearchRegistry" id="storeSearchRegistry"><!-- --></a>

    <h4>storeSearchRegistry</h4>

    <div class="method-signature">
      void
      storeSearchRegistry(
      )
    </div>

    <p>Stores the search registry in the backend.</p>
    
        

    
    
    
        <a name="methodunlock" id="unlock"><!-- --></a>

    <h4>unlock</h4>

    <div class="method-signature">
      void
      unlock(
      )
    </div>

    <p>Release a lock on the storage.</p><div><p>This method releases the lock of the storage, that has been acquired via  <a href="ezcCacheStackMetaDataStorage.html#methodlock">ezcCacheStackMetaDataStorage::lock()</a>. After this method has been  called, blocked method calls (including calls to lock()) can suceed  again.</p></div>
    
        

    
          <h5>Implementation of:</h5>
      <table class="detail"><thead><tr><th>Method</th>
            <th class="desc">Description</th>
          </tr></thead><tbody><tr><td><code><a href="ezcCacheStackMetaDataStorage.html#methodunlock">ezcCacheStackMetaDataStorage::unlock()</a></code></td>
              <td>
                                  Release a lock on the storage.
                              </td>
            </tr></tbody></table><a name="methodunRegisterIdentifier" id="unRegisterIdentifier"><!-- --></a>

    <h4>unRegisterIdentifier</h4>

    <div class="method-signature">
      void
      unRegisterIdentifier(
                                  [string
          $id
           = null]                  ,           [array
          $attributes
           = array()]                  ,           [string
          $identifier
           = null]                  ,           [bool
          $delayStore
           = false]              )
    </div>

    <p>Un-registers a previously registered identifier.</p>
          <h5>Parameters:</h5>
      <table class="detail"><thead><tr><th>Name</th>
            <th>Type</th>
            <th class="desc">Description</th>
          </tr></thead><tbody><tr><td><code>$id</code></td>
              <td><em>string</em></td>
              <td>
                                  ID for the cache item
                              </td>
            </tr><tr><td><code>$attributes</code></td>
              <td><em>array</em></td>
              <td>
                                  Attributes for the cache item
                              </td>
            </tr><tr><td><code>$identifier</code></td>
              <td><em>string</em></td>
              <td>
                                  Identifier generated for the cache item
                              </td>
            </tr><tr><td><code>$delayStore</code></td>
              <td><em>bool</em></td>
              <td>
                                  Delays the storing of the updated search registry
                              </td>
            </tr></tbody></table><a name="methodvalidateLocation" id="validateLocation"><!-- --></a>

    <h4>validateLocation</h4>

    <div class="method-signature">
      void
      validateLocation(
      )
    </div>

    <p>Checks if the location property is valid.</p>
    
        

          <h5>Redefinition of:</h5>
      <table class="detail"><thead><tr><th>Method</th>
            <th class="desc">Description</th>
          </tr></thead><tbody><tr><td><code><a href="ezcCacheStorage.html#methodvalidateLocation">ezcCacheStorage::validateLocation()</a></code></td>
            <td>
                              Checks if the location property is valid.
                          </td>
          </tr></tbody></table><h5>Redefined in descendants as:</h5>
      <table class="detail"><thead><tr><th>Method</th>
            <th class="desc">Description</th>
          </tr></thead><tbody><tr><td><code><a href="ezcCacheStorageFileApcArray.html#methodvalidateLocation">ezcCacheStorageFileApcArray::validateLocation()</a></code></td>
              <td>
                Checks the path in the location property exists, and is read-/writable. It  throws an exception if not.&#8192;
              </td>
            </tr></tbody></table><div class="credit">
      Documentation generated by <a href="http://www.phpdoc.org">phpDocumentor 1.4.3</a>
    </div>
  </div>
  
	</div>

	<div class="footer">
	Copyright  2010 <a href="http://apache.org">The Software Foundation</a>
</div>
</div>
</body>
</html>
